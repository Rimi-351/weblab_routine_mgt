{% extends 'base.html' %}
{% block title %}Routine for {{ batch }}{% endblock %}

{% block content %}
<h2 class="text-center mb-4">Routine for Batch {{ batch }}</h2>
<!-- âœ… WEEK NAVIGATION BUTTONS HERE -->

<h2>Test Buttons</h2>
<div class="d-flex justify-content-end mb-3">
    <a href="?week=previous" class="btn btn-outline-primary me-2">Previous Week</a>
    <a href="?week=current" class="btn btn-secondary me-2">This Week</a>
    <a href="?week=next" class="btn btn-primary">View Next Week</a>
</div>


<table class="table table-bordered text-center">
    <thead class="table-primary">
        <tr>
            <th>Day / Time</th>
            {% for start, end in time_ranges %}
                <th>{{ start|time:"g:i a" }} - {{ end|time:"g:i a" }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for day, routines in routine_map_items %}
            <tr>
                <th>{{ day }}</th>
                {% for routine, colspan in routines %}
                    {% if routine %}
                        <td colspan="{{ colspan }}">
                            <strong>{{ routine.course.code }}</strong><br>
                            {{ routine.teacher.name }}<br>
                            Room: {{ routine.room.number }}
                            {% if routine.is_online %}
                                <br><em>(Online)</em>
                            {% endif %}
                        </td>
                    {% else %}
                        <td>&mdash;</td>
                    {% endif %}
                {% endfor %}
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
